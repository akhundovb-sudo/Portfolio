<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EGSLKL72KZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-EGSLKL72KZ');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ULTA - Bahruz</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" href="favicon.ico">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="about.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Roboto:wght@400&display=swap"
        rel="stylesheet">
    <!-- Social meta -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="ULTA - Bahruz">
    <meta property="og:description" content="Restaurant booking app with AI-powered search and intuitive interface. Our vision for seamless restaurant discovery integrates AI with real user reviews for personalized dining recommendations.">
    <meta property="og:image" content="https://akhundovb.com/images/og-image.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ULTA - Bahruz">
    <meta name="twitter:description" content="Restaurant booking app with AI-powered search and intuitive interface. Our vision for seamless restaurant discovery integrates AI with real user reviews for personalized dining recommendations.">
    <meta name="twitter:image" content="https://akhundovb.com/images/og-image.png">
    
    <!-- Hotjar Tracking Code -->
    <script>
        (function (c, s, q, u, a, r, e) {
            c.hj=c.hj||function(){(c.hj.q=c.hj.q||[]).push(arguments)};
            c._hjSettings = { hjid: a };
            r = s.getElementsByTagName('head')[0];
            e = s.createElement('script');
            e.async = true;
            e.src = q + c._hjSettings.hjid + u;
            r.appendChild(e);
        })(window, document, 'https://static.hj.contentsquare.net/c/csq-', '.js', 6550275);
    </script>
</head>

<body class="project-page">
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">Bahruz</a>
                
                <!-- Desktop Navigation -->
                <nav class="nav desktop-nav">
                    <a href="about.html" class="nav-link">About</a>
                    <a href="index.html#projects" class="nav-link">Projects</a>
                    <button onclick="openModal()" class="nav-button">Get in Touch</button>
                </nav>

                <!-- Mobile Navigation -->
                <div class="mobile-nav">
                    <button onclick="openModal()" class="nav-button mobile-button">Get in Touch</button>
                    <button class="hamburger" onclick="toggleMobileMenu()">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>

                <!-- Mobile Menu Overlay -->
                <div class="mobile-menu-overlay" id="mobileMenuOverlay">
                    <button class="mobile-close-btn" onclick="toggleMobileMenu()">
                        <img src="images/close-button-figma.svg" alt="Close" width="40" height="40">
                    </button>
                    <nav class="mobile-menu">
                        <a href="about.html" class="mobile-nav-link">About</a>
                        <a href="index.html#projects" class="mobile-nav-link">Projects</a>
                    </nav>
                    <div class="mobile-social-links">
                        <a href="mailto:akhundovb@gmail.com" class="mobile-social-link">
                            <img src="images/email-icon-new.svg" alt="Email" width="24" height="24">
                        </a>
                        <a href="https://www.linkedin.com/in/bahruzakh/" class="mobile-social-link" target="_blank" rel="noopener noreferrer">
                            <img src="images/linkedin-icon-new.svg" alt="LinkedIn" width="24" height="24">
                        </a>
                        <a href="https://t.me/akhundesign" class="mobile-social-link" target="_blank" rel="noopener noreferrer">
                            <img src="images/telegram-icon-new.svg" alt="Telegram" width="24" height="24">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Breadcrumbs -->
    <section class="breadcrumbs">
        <div class="container">
            <nav class="breadcrumb-nav">
                <a href="index.html" class="breadcrumb-link">Home</a>
                <span class="breadcrumb-separator">/</span>
                <span class="breadcrumb-current">ULTA</span>
            </nav>
        </div>
    </section>






    <!-- Project Hero Section -->
    <section class="about-hero">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2 class="about-title">About the Product</h2>
                    <p class="about-description">
                        Our vision for seamless restaurant discovery and booking integrates AI-powered search with an
                        intuitive interface, helping you find the best dining spots based on real user reviews. This
                        project aims to make each step, from search to reservation, effortless and personalized, with
                        smart recommendations always within reach.
                    </p>
                </div>
                <div class="about-image">
                    <img src="images/ulta-hero-main.png" alt="ULTA project" class="profile-img">
                </div>
            </div>
        </div>
    </section>

    <!-- Design Process Section -->
    <section class="design-process-section">
        <div class="container">
            <h3 class="about-title">Design Process</h3>
            <div class="process-grid">
                <div class="process-card">
                    <div class="process-number">01</div>
                    <div class="process-content">
                        <h4 class="process-title">Research and Discovery</h4>
                        <p class="process-description">Gather insights on user needs and behaviors through interviews
                            and Jobs-to-be-Done (JTBD) framework. Analyze competitors to identify strengths, weaknesses,
                            and opportunities for differentiation.</p>
                    </div>
                </div>
                <div class="process-card">
                    <div class="process-number">02</div>
                    <div class="process-content">
                        <h4 class="process-title">Define Requirements</h4>
                        <p class="process-description">Define the app's core functionalities based on research findings.
                            Prioritize features to align with user needs and business objectives, ensuring a seamless
                            booking experience.</p>
                    </div>
                </div>
                <div class="process-card process-card-highlight">
                    <div class="process-number">03</div>
                    <div class="process-content">
                        <h4 class="process-title">UI Design</h4>
                        <p class="process-description">Develop wireframes and high-fidelity prototypes, focusing on
                            intuitive navigation, accessibility, and AI-driven recommendations. Establish a strong
                            visual identity with well-balanced typography and color schemes.</p>
                    </div>
                </div>
                <div class="process-card">
                    <div class="process-number">04</div>
                    <div class="process-content">
                        <h4 class="process-title">Prototype Testing & Iteration</h4>
                        <p class="process-description">Conduct usability testing on prototypes to validate design
                            decisions. Analyze user feedback, refine interactions, and improve overall usability before
                            final implementation.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Competitive Analysis Section -->
    <section class="competitive-section">
        <div class="container">
            <h3 class="about-title">Competitive Analyze</h3>
            <div class="competitive-table">
                <img src="images/competitive-analysis-table-updated.png" alt="Competitive Analysis Table"
                    class="table-img">
            </div>
        </div>
    </section>

    <!-- User Interviews Section -->
    <section class="interviews-section">
        <div class="container">
            <h3 class="about-title">User Interviews</h3>
            <div class="interviews-grid">
                <div class="interview-card interview-card-large">
                    <img src="images/search-icon.svg" alt="Search icon" class="interview-icon">
                    <div class="interview-content">
                        <h4 class="interview-title">Search</h4>
                        <p class="interview-description">Do you remember the last time you searched for a restaurant?
                            What steps did you take?<br>What apps or websites did you use for this? Why did you choose
                            them?<br>In general, what is more convenient for you when searching for restaurants: using
                            apps, recommendations from friends, or other methods?</p>
                    </div>
                </div>
                <div class="interview-card">
                    <img src="images/filter-icon.svg" alt="Filter icon" class="interview-icon">
                    <div class="interview-content">
                        <h4 class="interview-title">Filters</h4>
                        <p class="interview-description">What type of venues do you visit most often (cafes,
                            restaurants, bars)? Why?<br><br>How do you usually find a suitable venue through an app?
                            What filters do you use?<br><br>What additional filter options could make your search
                            easier?</p>
                    </div>
                </div>
                <div class="interview-card">
                    <img src="images/reviews-icon.svg" alt="Reviews icon" class="interview-icon">
                    <div class="interview-content">
                        <h4 class="interview-title">Reviews</h4>
                        <p class="interview-description">Have you ever encountered unreliable reviews? How do you
                            determine if they can be trusted?<br><br>What review formats do you find most useful? Why?
                            (Video, text, photo)</p>
                    </div>
                </div>
                <div class="interview-card">
                    <img src="images/choice-icon.svg" alt="Choice icon" class="interview-icon">
                    <div class="interview-content">
                        <h4 class="interview-title">Choice & Experience</h4>
                        <p class="interview-description">What usually stops you when you can't decide on a restaurant?
                            How do you solve this problem?<br>How do you choose new places when traveling?<br>What does
                            your ideal restaurant selection process look like? What would you add or remove?</p>
                    </div>
                </div>
                <div class="interview-card">
                    <img src="images/recommendations-icon.svg" alt="Recommendations icon" class="interview-icon">
                    <div class="interview-content">
                        <h4 class="interview-title">Recommendations</h4>
                        <p class="interview-description">How often do you use recommendations in apps? Do they meet your
                            expectations?<br>What data should an app consider to make recommendations more personalized
                            for you?</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Design System Section -->
    <section class="system-section">
        <div class="container">
            <div class="system-content">
                <div class="system-text">
                    <h3 class="about-title">Design System</h3>
                    <p class="about-description">Our design system implements a three-tier color token architecture:</p>
                    <ul class="design-system-list">
                        <li><strong>Primitive Tokens</strong> - Foundational raw color values serving as the base of the
                            system</li>
                        <li><strong>Alias Tokens</strong> - Semantic mappings that translate primitive tokens into
                            meaningful design roles</li>
                        <li><strong>Component Base Tokens</strong> - Implementation-level tokens that apply colors to
                            specific UI elements</li>
                    </ul>
                    <p class="about-description">This hierarchical approach ensures systematic color application while
                        maintaining flexibility for theming and scalability across products and platforms. The token
                        structure enables consistent visual language while allowing controlled adaptation to different
                        use cases.</p>
                </div>
                <div class="system-image">
                    <img src="images/ulta-design-system-updated.png" alt="Design System illustration"
                        class="system-img">
                </div>
            </div>
        </div>
    </section>

    <!-- Components Section -->
    <section class="system-section">
        <div class="container">
            <div class="system-content">
                <div class="system-text">
                    <h3 class="about-title">Components</h3>
                    <ul class="component-list">
                        <li>Light & dark theme support</li>
                        <li>iOS & Android adaptations</li>
                        <li>Platform-specific styling</li>
                        <li>Unified system with shared core tokens</li>
                    </ul>
                </div>
                <div class="system-image">
                    <img src="images/ulta-components.png" alt="Components illustration" class="system-img">
                </div>
            </div>
        </div>
    </section>

    <!-- Login/Signup Section -->
    <section class="system-section">
        <div class="container">
            <div class="system-content">
                <div class="system-text">
                    <h3 class="about-title">Login/Signup</h3>
                </div>
                <div class="system-image">
                    <img src="images/ulta-login-signup-4fb9e5.png" alt="Login/Signup interface" class="system-img">
                </div>
            </div>
        </div>
    </section>

    <!-- Main Screen Section -->
    <section class="ui-detail-section">
        <div class="container">
            <div class="ui-detail-content-large">
                <div class="ui-detail-header">
                    <h3 class="about-title">Main screen</h3>
                    <div class="ui-detail-text">
                        <p class="ui-detail-description"><strong>Decision:</strong> Emphasis on restaurant search with
                            intuitive filters, large restaurant cards, and AI-powered interaction. High-quality images
                            make the experience more engaging.</p>
                        <p class="ui-detail-description"><strong>Why:</strong> Users rely on visuals and well-structured
                            information when choosing a place. Large cards improve readability, showcase key details at
                            a glance, and AI suggestions help streamline the decision-making process.</p>
                    </div>
                </div>
                <div class="ui-images-row">
                    <img src="images/ulta-main-screen-updated.png" alt="Main screen interface" class="ui-showcase-img">
                </div>
            </div>
        </div>
    </section>

    <!-- Restaurant Screen Section -->
    <section class="ui-detail-section">
        <div class="container">
            <div class="ui-detail-content-large">
                <div class="ui-detail-header">
                    <h3 class="about-title">Restaurant screen</h3>
                    <div class="ui-detail-text">
                        <p class="ui-detail-description"><strong>Decision:</strong> Detailed restaurant information –
                            description, map, rating, reviews, and similar places.</p>
                        <p class="ui-detail-description"><strong>Why:</strong> Users trust restaurants with clear,
                            structured information, and the "Similar Places" section helps retain engagement.</p>
                    </div>
                </div>
                <div class="restaurant-imgs">
                    <img src="images/ulta-1.jpg" alt="Restaurant screen interface" class="restaurant-img">
                    <img src="images/ulta-2.jpg" alt="Restaurant screen interface" class="restaurant-img">
                    <img src="images/ulta-3.jpg" alt="Restaurant screen interface" class="restaurant-img">
                    <img src="images/ulta-4.jpg" alt="Restaurant screen interface" class="restaurant-img">
                </div>
            </div>
        </div>
    </section>

    <!-- Ulti AI Assistant Section -->
    <section class="ui-detail-section">
        <div class="container">
            <div class="ui-detail-content-large">
                <div class="ui-detail-header">
                    <h3 class="about-title">Ulti AI Assistant</h3>
                    <div class="ui-detail-text">
                        <p class="ui-detail-description"><strong>Decision:</strong> AI-powered assistant for restaurant
                            search, booking, and personalized recommendations. It also features a simplified chat
                            interface that helps users quickly compose messages and interact effortlessly.</p>
                        <p class="ui-detail-description"><strong>Why:</strong> Users often spend too much time choosing
                            a restaurant. Ulti simplifies the process by suggesting relevant options, handling
                            reservations, and providing a seamless, guided experience.</p>
                    </div>
                </div>
                <div class="ui-images-row">
                    <img src="images/ulta-ai-assistant-updated.png" alt="Ulti AI Assistant interface"
                        class="ui-showcase-img">
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <h3 class="footer-title">Let's work together</h3>
            <div class="footer-social">
                <a href="mailto:akhundovb@gmail.com" class="social-icon" title="Email">
                    <img src="images/social-icon-1.svg" alt="Email" width="24" height="24">
                </a>
                <a href="https://www.linkedin.com/in/bahruzakh/" class="social-icon" title="LinkedIn" target="_blank"
                    rel="noopener noreferrer">
                    <img src="images/social-icon-2.svg" alt="LinkedIn" width="24" height="24">
                </a>
                <a href="https://t.me/akhundesign" class="social-icon" title="Telegram" target="_blank"
                    rel="noopener noreferrer">
                    <img src="images/social-icon-3.svg" alt="Telegram" width="24" height="24">
                </a>
            </div>
        </div>
    </footer>

    <!-- Contact Modal -->
    <div id="contactModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Let's connect!</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p class="modal-description">Choose how you'd like to get in touch:</p>
                <div class="contact-buttons">
                    <a href="mailto:akhundovb@gmail.com" class="contact-button email">
                        <span>Email</span>
                        <svg class="external-icon" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M18 13V19C18 19.5523 17.5523 20 17 20H5C4.44772 20 4 19.5523 4 19V7C4 6.44772 4.44772 6 5 6H11"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M15 3H21V9" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M10 14L21 3" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </a>
                    <a href="https://t.me/akhundesign" class="contact-button telegram" target="_blank"
                        rel="noopener noreferrer">
                        <span>Telegram</span>
                        <svg class="external-icon" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M18 13V19C18 19.5523 17.5523 20 17 20H5C4.44772 20 4 19.5523 4 19V7C4 6.44772 4.44772 6 5 6H11"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M15 3H21V9" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M10 14L21 3" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </a>
                    <a href="https://www.linkedin.com/in/bahruzakh/" class="contact-button linkedin" target="_blank"
                        rel="noopener noreferrer">
                        <span>LinkedIn</span>
                        <svg class="external-icon" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M18 13V19C18 19.5523 17.5523 20 17 20H5C4.44772 20 4 19.5523 4 19V7C4 6.44772 4.44772 6 5 6H11"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M15 3H21V9" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M10 14L21 3" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Photo Viewer -->
    <div class="photo-viewer" id="photoViewer">
        <div class="photo-viewer-content">
            <img class="photo-viewer-img" id="photoViewerImg" alt="Full size image">
            <button class="photo-viewer-close" onclick="closePhotoViewer()">
                <img src="images/close-button-figma.svg" alt="Close" width="40" height="40">
            </button>
            
            <!-- Navigation Arrows -->
            <button class="photo-nav-btn photo-nav-prev" onclick="previousPhoto()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="15,18 9,12 15,6"></polyline>
                </svg>
            </button>
            <button class="photo-nav-btn photo-nav-next" onclick="nextPhoto()">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9,18 15,12 9,6"></polyline>
                </svg>
            </button>
            
            <!-- Simple Zoom Slider -->
            <div class="simple-zoom-controls">
                <div class="zoom-percentage" id="zoomPercentage">100%</div>
                <input type="range" class="simple-zoom-slider" id="simpleZoomSlider" min="25" max="300" value="100" oninput="updateSimpleZoom(this.value)">
            </div>
            
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Mobile Menu Functionality
        function toggleMobileMenu() {
            const overlay = document.getElementById('mobileMenuOverlay');
            const hamburger = document.querySelector('.hamburger');
            const mobileNav = document.querySelector('.mobile-nav');
            const body = document.body;
            const html = document.documentElement;
            
            overlay.classList.toggle('active');
            hamburger.classList.toggle('active');
            body.classList.toggle('mobile-menu-open');
            html.classList.toggle('mobile-menu-open');
            
            // Hide mobile nav when menu is open
            if (overlay.classList.contains('active')) {
                mobileNav.style.display = 'none';
                // Prevent scrolling
                body.style.overflow = 'hidden';
                html.style.overflow = 'hidden';
            } else {
                mobileNav.style.display = 'flex';
                // Restore scrolling
                body.style.overflow = '';
                html.style.overflow = '';
            }
        }

        // Close mobile menu when clicking on overlay
        document.addEventListener('DOMContentLoaded', function() {
            const overlay = document.getElementById('mobileMenuOverlay');
            if (overlay) {
                overlay.addEventListener('click', function(e) {
                    if (e.target === this) {
                        toggleMobileMenu();
                    }
                });

                // Handle mobile menu navigation links
                document.querySelectorAll('.mobile-nav-link').forEach(link => {
                    link.addEventListener('click', function(e) {
                        const href = this.getAttribute('href');
                        
                        if (href.startsWith('#')) {
                            // For anchor links, close menu first, then navigate
                            e.preventDefault();
                            
                            // Close the mobile menu using the toggle function
                            toggleMobileMenu();
                            
                            // Wait for menu to close, then scroll to target
                            setTimeout(() => {
                                const target = document.querySelector(href);
                                if (target) {
                                    // Ensure the target is visible and scroll to it
                                    target.scrollIntoView({
                                        behavior: 'smooth',
                                        block: 'start',
                                        inline: 'nearest'
                                    });
                                    
                                    // Fallback: if smooth scroll doesn't work, try direct scroll
                                    setTimeout(() => {
                                        if (window.pageYOffset === 0) {
                                            window.scrollTo({
                                                top: target.offsetTop - 100,
                                                behavior: 'smooth'
                                            });
                                        }
                                    }, 100);
                                }
                            }, 600);
                        } else {
                            // For external links, close menu immediately
                            toggleMobileMenu();
                        }
                    });
                });
            }
        });

        // Photo Viewer functionality
        
        // Photo navigation
        let currentPhotoIndex = 0;
        let availablePhotos = [];
        let isTransitioning = false;
        
        // Desktop zoom functionality
        let isZoomed = false;
        const zoomScale = 2; // 2x zoom
        
        // Mobile zoom functionality
        let currentZoom = 1;
        let isDragging = false;
        let startX = 0;
        let startY = 0;
        let translateX = 0;
        let translateY = 0;

        function openPhotoViewer(imgSrc) {
            const viewer = document.getElementById('photoViewer');
            const img = document.getElementById('photoViewerImg');
            
            if (!viewer || !img) return;
            
            // Populate available photos array
            populateAvailablePhotos();
            
            // Find current photo index
            currentPhotoIndex = availablePhotos.findIndex(photo => photo.src === imgSrc);
            if (currentPhotoIndex === -1) currentPhotoIndex = 0;
            
            // Reset zoom state
            isZoomed = false;
            currentZoom = 1;
            translateX = 0;
            translateY = 0;
            img.style.transform = 'scale(1)';
            img.style.transition = 'transform 0.3s ease';
            
            img.src = imgSrc;
            viewer.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function populateAvailablePhotos() {
            const clickableImages = document.querySelectorAll('.project-page .system-img, .project-page .profile-img, .project-page .ui-showcase-img, .project-page .restaurant-img');
            availablePhotos = Array.from(clickableImages).map(img => ({
                src: img.src,
                alt: img.alt || 'Project image'
            }));
        }

        function closePhotoViewer() {
            const viewer = document.getElementById('photoViewer');
            if (!viewer) return;
            
            // Reset zoom state
            isZoomed = false;
            currentZoom = 1;
            translateX = 0;
            translateY = 0;
            
            // Reset slider
            const slider = document.getElementById('simpleZoomSlider');
            if (slider) {
                slider.value = 100;
            }
            
            // Reset zoom display
            updateZoomDisplay();
            
            // Disable scroll
            disableImageScroll();
            
            const img = document.getElementById('photoViewerImg');
            if (img) {
                img.style.transform = 'scale(1)';
            }
            
            viewer.classList.remove('active');
            document.body.style.overflow = '';
        }

        function toggleZoom() {
            // Only work on desktop (screen width > 768px)
            if (window.innerWidth <= 768) return;
            
            const img = document.getElementById('photoViewerImg');
            if (!img) return;
            
            isZoomed = !isZoomed;
            
            if (isZoomed) {
                // Zoom in
                img.style.transform = `scale(${zoomScale})`;
                img.style.cursor = 'zoom-out';
                // Enable scroll for zoomed image
                enableImageScroll();
            } else {
                // Zoom out
                img.style.transform = 'scale(1)';
                img.style.cursor = 'zoom-in';
                // Disable scroll
                disableImageScroll();
            }
        }

        function enableImageScroll() {
            const img = document.getElementById('photoViewerImg');
            const viewer = document.getElementById('photoViewer');
            if (!img || !viewer) return;
            
            // Add wheel event listener for scrolling
            img.addEventListener('wheel', handleWheelScroll, { passive: false });
            
            // Add scroll event listener for keyboard navigation
            viewer.addEventListener('scroll', handleViewerScroll);
            
            // Enable overflow scroll on viewer
            viewer.style.overflow = 'auto';
            viewer.style.cursor = 'grab';
        }

        function disableImageScroll() {
            const img = document.getElementById('photoViewerImg');
            const viewer = document.getElementById('photoViewer');
            if (!img || !viewer) return;
            
            // Remove wheel event listener
            img.removeEventListener('wheel', handleWheelScroll);
            
            // Remove scroll event listener
            viewer.removeEventListener('scroll', handleViewerScroll);
            
            // Disable overflow scroll on viewer
            viewer.style.overflow = 'hidden';
            viewer.style.cursor = 'default';
            
            // Reset scroll position
            viewer.scrollLeft = 0;
            viewer.scrollTop = 0;
        }

        function handleWheelScroll(e) {
            if (!isZoomed) return;
            
            e.preventDefault();
            
            const viewer = document.getElementById('photoViewer');
            if (!viewer) return;
            
            // Get current scroll position
            const scrollLeft = viewer.scrollLeft;
            const scrollTop = viewer.scrollTop;
            
            // Calculate scroll amount (adjust sensitivity)
            const scrollAmount = 50;
            
            // Apply scroll based on wheel direction
            if (e.deltaY > 0) {
                // Scroll down
                viewer.scrollTop = Math.min(scrollTop + scrollAmount, viewer.scrollHeight - viewer.clientHeight);
            } else {
                // Scroll up
                viewer.scrollTop = Math.max(scrollTop - scrollAmount, 0);
            }
            
            if (e.deltaX > 0) {
                // Scroll right
                viewer.scrollLeft = Math.min(scrollLeft + scrollAmount, viewer.scrollWidth - viewer.clientWidth);
            } else if (e.deltaX < 0) {
                // Scroll left
                viewer.scrollLeft = Math.max(scrollLeft - scrollAmount, 0);
            }
        }

        function handleViewerScroll() {
            // This function can be used for additional scroll handling if needed
            // For now, it's just a placeholder
        }

        // Mobile zoom functions
        function updateSimpleZoom(value) {
            currentZoom = Math.max(0.25, Math.min(3, value / 100));
            updateImageTransform();
            updateZoomDisplay();
        }

        function updateImageTransform() {
            const img = document.getElementById('photoViewerImg');
            if (img) {
                // Disable transition during dragging for smooth panning
                if (isDragging) {
                    img.style.transition = 'none';
                } else {
                    img.style.transition = 'transform 0.3s ease';
                }
                
                img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${currentZoom})`;
            }
        }

        function updateZoomDisplay() {
            const indicator = document.getElementById('zoomPercentage');
            if (indicator) {
                indicator.textContent = Math.round(currentZoom * 100) + '%';
            }
        }

        function constrainPan() {
            const img = document.getElementById('photoViewerImg');
            const viewer = document.getElementById('photoViewer');
            if (!img || !viewer) return;

            const imgRect = img.getBoundingClientRect();
            const viewerRect = viewer.getBoundingClientRect();
            
            const maxTranslateX = Math.max(0, (imgRect.width * currentZoom - viewerRect.width) / 2);
            const maxTranslateY = Math.max(0, (imgRect.height * currentZoom - viewerRect.height) / 2);
            
            translateX = Math.max(-maxTranslateX, Math.min(maxTranslateX, translateX));
            translateY = Math.max(-maxTranslateY, Math.min(maxTranslateY, translateY));
            
            updateImageTransform();
        }

        function startDrag(e) {
            if (currentZoom <= 1) return;
            isDragging = true;
            startX = e.clientX - translateX;
            startY = e.clientY - translateY;
            const img = document.getElementById('photoViewerImg');
            if (img) {
                img.style.cursor = 'grabbing';
            }
        }

        function handleTouchStart(e) {
            if (e.touches.length === 1) {
                // Single touch - panning
                if (currentZoom <= 1) return;
                
                isDragging = true;
                const touch = e.touches[0];
                startX = touch.clientX - translateX;
                startY = touch.clientY - translateY;
                
                e.preventDefault();
            } else if (e.touches.length === 2) {
                // Two touches - pinch to zoom
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                const distance = Math.sqrt(
                    Math.pow(touch2.clientX - touch1.clientX, 2) + 
                    Math.pow(touch2.clientY - touch1.clientY, 2)
                );
                
                const img = document.getElementById('photoViewerImg');
                // Store initial values for pinch zoom
                img.dataset.initialDistance = distance;
                img.dataset.initialZoom = currentZoom;
                
                e.preventDefault();
            }
        }

        function drag(e) {
            if (!isDragging || currentZoom <= 1) return;
            e.preventDefault();
            translateX = e.clientX - startX;
            translateY = e.clientY - startY;
            constrainPan();
        }

        function handleTouchMove(e) {
            if (e.touches.length === 1 && isDragging) {
                // Single touch - panning
                const touch = e.touches[0];
                translateX = touch.clientX - startX;
                translateY = touch.clientY - startY;
                constrainPan();
                e.preventDefault();
            } else if (e.touches.length === 2) {
                // Two touches - pinch to zoom
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                const currentDistance = Math.sqrt(
                    Math.pow(touch2.clientX - touch1.clientX, 2) + 
                    Math.pow(touch2.clientY - touch1.clientY, 2)
                );
                
                const img = document.getElementById('photoViewerImg');
                const initialDistance = parseFloat(img.dataset.initialDistance);
                const initialZoom = parseFloat(img.dataset.initialZoom);
                
                if (initialDistance > 0) {
                    const scale = currentDistance / initialDistance;
                    currentZoom = Math.max(0.25, Math.min(3, initialZoom * scale));
                    updateImageTransform();
                    updateZoomDisplay();
                    
                    // Update slider
                    const slider = document.getElementById('simpleZoomSlider');
                    if (slider) {
                        slider.value = currentZoom * 100;
                    }
                }
                
                e.preventDefault();
            }
        }

        function endDrag() {
            isDragging = false;
            const img = document.getElementById('photoViewerImg');
            if (img) {
                img.style.cursor = 'grab';
            }
        }

        function resetZoom() {
            currentZoom = 1;
            translateX = 0;
            translateY = 0;
            isDragging = false;
            isZooming = false;
            lastTouchDistance = 0;
            
            updateImageTransform();
            updateZoomDisplay();
            updateSlider();
        }

        function updateSlider() {
            const slider = document.getElementById('simpleZoomSlider');
            if (slider) {
                slider.value = 100;
            }
        }

        function updateMobileZoom(value) {
            currentZoom = Math.max(0.25, Math.min(3, value / 100));
            updateImageTransform();
            updateMobileZoomIndicator();
        }

        function updateSimpleZoom(value) {
            currentZoom = Math.max(0.25, Math.min(3, value / 100));
            updateImageTransform();
            updateZoomDisplay();
        }

        function updateImageTransform() {
            const img = document.getElementById('photoViewerImg');
            if (img) {
                // Disable transition during dragging for smooth panning
                if (isDragging) {
                    img.style.transition = 'none';
                } else {
                    img.style.transition = 'transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
                }
                
                img.style.transform = `translate(${translateX}px, ${translateY}px) scale(${currentZoom})`;
            }
        }

        function updateMobileZoomIndicator() {
            const indicator = document.getElementById('mobileZoomIndicator');
            if (indicator) {
                indicator.textContent = Math.round(currentZoom * 100) + '%';
            }
        }

        function updateZoomDisplay() {
            const percentage = document.getElementById('zoomPercentage');
            if (percentage) {
                percentage.textContent = Math.round(currentZoom * 100) + '%';
            }
        }

        function constrainPan() {
            const img = document.getElementById('photoViewerImg');
            const viewer = document.getElementById('photoViewer');
            
            if (!img || !viewer) return;
            
            const imgRect = img.getBoundingClientRect();
            const viewerRect = viewer.getBoundingClientRect();
            
            const maxTranslateX = Math.max(0, (imgRect.width * currentZoom - viewerRect.width) / 2);
            const maxTranslateY = Math.max(0, (imgRect.height * currentZoom - viewerRect.height) / 2);
            
            translateX = Math.max(-maxTranslateX, Math.min(maxTranslateX, translateX));
            translateY = Math.max(-maxTranslateY, Math.min(maxTranslateY, translateY));
        }

        // Touch and mouse events for panning and pinch zoom
        function startDrag(e) {
            if (currentZoom <= 1) return;
            isDragging = true;
            startX = e.clientX - translateX;
            startY = e.clientY - translateY;
            
            const img = document.getElementById('photoViewerImg');
            if (img) {
                img.style.cursor = 'grabbing';
            }
        }

        function handleTouchStart(e) {
            if (e.touches.length === 1) {
                // Single touch - start drag
                if (currentZoom > 1) {
                    isDragging = true;
                    startX = e.touches[0].clientX - translateX;
                    startY = e.touches[0].clientY - translateY;
                }
            } else if (e.touches.length === 2) {
                // Two touches - pinch zoom
                e.preventDefault();
                isDragging = false;
                isZooming = true;
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                lastTouchDistance = Math.sqrt(
                    Math.pow(touch2.clientX - touch1.clientX, 2) +
                    Math.pow(touch2.clientY - touch1.clientY, 2)
                );
                initialZoom = currentZoom;
            }
        }

        function drag(e) {
            if (!isDragging) return;
            e.preventDefault();
            
            if (e.type === 'mousemove') {
                translateX = e.clientX - startX;
                translateY = e.clientY - startY;
            } else if (e.type === 'touchmove' && e.touches.length === 1) {
                translateX = e.touches[0].clientX - startX;
                translateY = e.touches[0].clientY - startY;
            }
            
            constrainPan();
            updateImageTransform();
        }

        function handleTouchMove(e) {
            if (e.touches.length === 2) {
                // Pinch zoom
                e.preventDefault();
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                const currentDistance = Math.sqrt(
                    Math.pow(touch2.clientX - touch1.clientX, 2) +
                    Math.pow(touch2.clientY - touch1.clientY, 2)
                );
                
                if (lastTouchDistance > 0) {
                    const scale = currentDistance / lastTouchDistance;
                    const newZoom = initialZoom * scale;
                    currentZoom = Math.max(0.25, Math.min(3, newZoom));
                    
                    // Update slider
                    const mobileSlider = document.getElementById('mobileZoomSlider');
                    if (mobileSlider) {
                        mobileSlider.value = currentZoom * 100;
                    }
                    
                    updateImageTransform();
                    updateMobileZoomIndicator();
                }
                
                lastTouchDistance = currentDistance;
            } else if (e.touches.length === 1 && isDragging) {
                // Single touch drag
                drag(e);
            }
        }

        function endDrag() {
            isDragging = false;
            isZooming = false;
            lastTouchDistance = 0;
            
            const img = document.getElementById('photoViewerImg');
            if (img) {
                img.style.cursor = 'grab';
            }
        }

        // Photo navigation functions
        function nextPhoto() {
            if (isTransitioning || availablePhotos.length === 0) return;
            
            currentPhotoIndex = (currentPhotoIndex + 1) % availablePhotos.length;
            loadPhoto(availablePhotos[currentPhotoIndex].src);
        }

        function previousPhoto() {
            if (isTransitioning || availablePhotos.length === 0) return;
            
            currentPhotoIndex = (currentPhotoIndex - 1 + availablePhotos.length) % availablePhotos.length;
            loadPhoto(availablePhotos[currentPhotoIndex].src);
        }

        function loadPhoto(src) {
            if (isTransitioning) return;
            
            isTransitioning = true;
            const img = document.getElementById('photoViewerImg');
            
            // Reset zoom state when switching photos
            isZoomed = false;
            currentZoom = 1;
            translateX = 0;
            translateY = 0;
            
            // Reset slider
            const slider = document.getElementById('simpleZoomSlider');
            if (slider) {
                slider.value = 100;
            }
            
            // Reset zoom display
            updateZoomDisplay();
            
            // Disable scroll
            disableImageScroll();
            
            img.style.transform = 'scale(1)';
            img.style.cursor = 'zoom-in';
            
            // Add fade effect
            img.style.transition = 'opacity 0.3s ease';
            img.style.opacity = '0';
            
            setTimeout(() => {
                img.src = src;
                img.style.opacity = '1';
                
                setTimeout(() => {
                    img.style.transition = '';
                    isTransitioning = false;
                }, 300);
            }, 150);
        }

        // Swipe navigation for mobile
        let swipeStartX = 0;
        let swipeStartY = 0;
        let swipeThreshold = 50;

        function handleSwipeStart(e) {
            if (e.touches.length === 1) {
                swipeStartX = e.touches[0].clientX;
                swipeStartY = e.touches[0].clientY;
            }
        }

        function handleSwipeEnd(e) {
            if (e.changedTouches.length === 1) {
                const swipeEndX = e.changedTouches[0].clientX;
                const swipeEndY = e.changedTouches[0].clientY;
                const deltaX = swipeEndX - swipeStartX;
                const deltaY = swipeEndY - swipeStartY;
                
                // Only trigger swipe if horizontal movement is greater than vertical
                if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > swipeThreshold) {
                    if (deltaX > 0) {
                        // Swipe right - previous photo
                        previousPhoto();
                    } else {
                        // Swipe left - next photo
                        nextPhoto();
                    }
                }
            }
        }

        // Add event listeners when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            const photoViewerImg = document.getElementById('photoViewerImg');
            
            if (photoViewerImg) {
                // Mouse events
                photoViewerImg.addEventListener('mousedown', startDrag);
                document.addEventListener('mousemove', drag);
                document.addEventListener('mouseup', endDrag);

                // Touch events
                photoViewerImg.addEventListener('touchstart', handleTouchStart, { passive: false });
                photoViewerImg.addEventListener('touchmove', handleTouchMove, { passive: false });
                photoViewerImg.addEventListener('touchend', endDrag);
                
                // Add swipe navigation for mobile
                photoViewerImg.addEventListener('touchstart', handleSwipeStart, { passive: true });
                photoViewerImg.addEventListener('touchend', handleSwipeEnd, { passive: true });
            }
        });

        // Close viewer when clicking outside image
        document.addEventListener('DOMContentLoaded', function() {
            const photoViewer = document.getElementById('photoViewer');
            if (photoViewer) {
                photoViewer.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closePhotoViewer();
                    }
                });
            }
        });

        // Close viewer with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closePhotoViewer();
            }
        });

        // Add click handlers to all images (excluding icons)
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('.project-page img');
            images.forEach(img => {
                // Skip icons and small images
                if (img.width <= 48 || img.height <= 48 || 
                    img.src.includes('icon') || 
                    img.closest('.mobile-social-links') ||
                    img.closest('.social-links') ||
                    img.closest('.mobile-close-btn') ||
                    img.closest('.hamburger')) {
                    return;
                }
                
                img.addEventListener('click', function() {
                    openPhotoViewer(this.src);
                });
            });
        });

        // Add photo viewer image click handler for zoom toggle
        document.addEventListener('DOMContentLoaded', function() {
            const photoViewerImg = document.getElementById('photoViewerImg');
            
            if (photoViewerImg) {
                // Desktop zoom toggle on click
                photoViewerImg.addEventListener('click', function(e) {
                    e.stopPropagation(); // Prevent modal close
                    toggleZoom();
                });
                
                // Add mobile zoom and pan functionality
                photoViewerImg.addEventListener('mousedown', startDrag);
                photoViewerImg.addEventListener('touchstart', handleTouchStart, { passive: false });
                photoViewerImg.addEventListener('touchmove', handleTouchMove, { passive: false });
                photoViewerImg.addEventListener('touchend', endDrag);
                
                // Add swipe navigation for mobile
                photoViewerImg.addEventListener('touchstart', handleSwipeStart, { passive: true });
                photoViewerImg.addEventListener('touchend', handleSwipeEnd, { passive: true });
            }
            
            // Add document-level mouse events for dragging
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', endDrag);
        });
    </script>
</body>

</html>